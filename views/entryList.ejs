<!DOCTYPE html>
<html lang="en">



<head>
    <%- include('partials/head.ejs') %>
</head>

<body>    <%- include('partials/sidebar.ejs') %>`
        <div class="page-body">
            <div class="container-fluid mb-3">
                <div class="page-title">
                    <div class="row">
                        <div class="col-sm-6">
                            <h3 class="d-flex">Employee Activity In <%= date %>
                            </h3>
                        </div>
                        <div class="col-sm-6">
                            <ol class="breadcrumb">
                                <li class="breadcrumb-item"><a
                                        href="<%=role===2 ?'/employee/dashboard':'/admin/dashboard'%>"><i
                                            data-feather="home" class="me-2"></i>Dashboard</a></li>
                                <li class="breadcrumb-item active"><a
                                        href="<%=role===2 ?'/employee/attendlist':'/admin/attendance'%>"><i
                                            data-feather="user-check" class="me-2"></i>Attendance List</a></li>
                                <li class="breadcrumb-item active"><a href="">Entry List</a></li>
                            </ol>
                        </div>
                    </div>
                </div>
            </div>
            <div class="container-fluid ">
                <div class="row">
                    <div class="col-sm-12">

                        <div class="row">
                            <div class="col-sm-6 col-lg-3">
                                <div class="card o-hidden">
                                    <div class="card-header pb-0">
                                        <div class="d-flex">
                                            <div class="flex-grow-1">
                                                <p class=" f-w-600 header-text-primary">Total Working Times <i
                                                        class="fa fa-circle"> </i></p>
                                                <h4>
                                                    <%=TotalWorkingTime%>
                                                </h4>
                                            </div>
                                            <div class="d-flex static-widget">
                                                <i class="fa-solid fa-business-time"
                                                    style="font-size: 44px; color: #5c61f2;"></i>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="card-body pt-0">
                                        <div class="progress-widget">
                                            <div class="progress sm-progress-bar progress-animate">
                                                <div class="progress-gradient-primary" role="progressbar"
                                                    style="width: 75%" aria-valuenow="75" aria-valuemin="0"
                                                    aria-valuemax="100"><span class="animate-circle"></span></div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-sm-6 col-lg-3">
                                <div class="card o-hidden product-widget">
                                    <div class="card-header pb-0">
                                        <div class="d-flex">
                                            <div class="flex-grow-1">
                                                <p class=" f-w-600 text-success">Total Break Times<i class="fa fa-circle">
                                                    </i></p>
                                                <h4>
                                                    <%=TotalBreakTime%>
                                                </h4>
                                            </div>
                                            <div class="d-flex static-widget">
                                                <i class="fa-duotone fa-solid fa-mug-tea-saucer text-success"
                                                    style="font-size: 44px;"></i>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="card-body pt-0">
                                        <div class="progress-widget">
                                            <div class="progress sm-progress-bar progress-animate">
                                                <div class="progress-gradient-success" role="progressbar"
                                                    style="width: 60%" aria-valuenow="75" aria-valuemin="0"
                                                    aria-valuemax="100"><span class="animate-circle"></span></div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <div class="col-sm-6 col-lg-3">
                                <div class="card o-hidden message-widget">
                                    <div class="card-header pb-0">
                                        <div class="d-flex">
                                            <div class="flex-grow-1">
                                                <p class=" f-w-600 text-warning ">Clock In Times<i class="fa fa-circle"> </i>
                                                </p>
                                                <h4>
                                                    <%=ClockIn%>
                                                </h4>
                                            </div>
                                            <div class="d-flex static-widget">
                                                <i class="fa-duotone fa-solid fa-alarm-plus text-warning"
                                                    style="font-size: 44px;"></i>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="card-body pt-0">
                                        <div class="progress-widget">
                                            <div class="progress sm-progress-bar progress-animate">
                                                <div class="progress-gradient-secondary" role="progressbar"
                                                    style="width: 48%" aria-valuenow="75" aria-valuemin="0"
                                                    aria-valuemax="100"><span class="animate-circle"></span></div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-sm-6 col-lg-3">
                                <div class="card o-hidden user-widget">
                                    <div class="card-header pb-0">
                                        <div class="d-flex">
                                            <div class="flex-grow-1">
                                                <p class=" f-w-600 text-info">Clock Out Times<i class="fa fa-circle"> </i></p>
                                                <h4>
                                                    <%=ClockOut%>
                                                </h4>
                                            </div>
                                            <div class="d-flex static-widget">
                                                <i class="fa-duotone fa-solid fa-alarm-exclamation text-info"
                                                    style="font-size: 44px;"></i>

                                            </div>
                                        </div>
                                    </div>
                                    <div class="card-body pt-0">
                                        <div class="progress-widget">
                                            <div class="progress sm-progress-bar progress-animate">
                                                <div class="progress-gradient-info" role="progressbar"
                                                    style="width: 48%" aria-valuenow="75" aria-valuemin="0"
                                                    aria-valuemax="100"><span class="animate-circle"></span></div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <!-- HTML (DOM) sourced data  Starts-->
                    <div class="col-sm-12">
                        <div class="card">
                            <div class="card-body">
                                <div class="table-responsive theme-scrollbar">
                                    <table class="display" style="font-size: 12px;" id="basic-1">
                                        <thead>
                                            <tr>
                                                <th class="d-none">#</th>
                                                <th>Status</th>
                                                <th>In Time</th>
                                                <th>Out Time</th>
                                                <th>Total Time</th>
                                                <th>InTime Ip</th>
                                                <th>OutTime Ip</th>
                                                <th>Comment</th>
                                            </tr>
                                        </thead>
                                        <tbody>
                                            <% Allentrys.map((val,i)=>{ %>
                                                <tr class="odd" style="font-size: 14px;">
                                                    <td class="d-none">
                                                        <%=i%>
                                                    </td>
                                                    <td>
                                                        <span>
                                                            <%=val.intime !=='' ?val.status===1 ? "Work Time"
                                                                : "Break Time" :"ClockOut"%>
                                                        </span>
                                                    </td>
                                                    <td>
                                                        <%= isNaN(new Date(val.intime)) ? '-' : new Date(new
                                                            Date(val.intime).toLocaleString("en-US", {
                                                            timeZone: "Asia/Kolkata" })) .toLocaleTimeString("en-US", {
                                                            hour: "2-digit" , minute: "2-digit"  ,
                                                            hour12: true }) %>
                                                    </td>
                                                    <td class="sorting_1">
                                                        <%= isNaN(new Date(val.outtime)) ? '-' : new Date(new
                                                            Date(val.outtime).toLocaleString("en-US", {
                                                            timeZone: "Asia/Kolkata" })) .toLocaleTimeString("en-US", {
                                                            hour: "2-digit" , minute: "2-digit" ,
                                                            hour12: true }) %>
                                                    </td>
                                                    <td>
                                                        <%=totalTime[i]==="Invalid date format" ? '-' : totalTime[i] %>
                                                    </td>
                                                     <td>
                                                        <%=val.InTimeIP ==='' ? '-' : val.InTimeIP%>
                                                    </td>
                                                     <td>
                                                        <%=val.OutTimeIP%>
                                                    </td>
                                                    <td>
                                                        <%="-"%>
                                                    </td>
                                                </tr>
                                                <% }) %>
                                        </tbody>
                                    </table>
                                </div>
                            </div>
                        </div>
                        <!-- HTML (DOM) sourced data  Ends-->
                    </div>
                    <!-- Container-fluid Ends-->
                </div>
            </div>
        </div>


        <%- include('partials/footer.ejs') %>
            <%- include('partials/script.ejs') %>

                <!-- login js-->


</body>




</html>